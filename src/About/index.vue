<template>
  <article class="about">
    <div class="about__container" v-if="content">
      <h1 class="about__title">
        <span
          v-for="(p, i) in content.title.content"
          :key="i"
          v-html="render(p)"
        ></span>
      </h1>

      <div class="about__content">
        <img
          class="about__img"
          :src="content.image.fields.file.url"
          :alt="content.image.fields.title"
        />

        <ul class="about__info">
          <li>
            <b>Location</b>
          </li>
          <li>
            <p>{{ content.location }}</p>
          </li>
          <li>
            <p>Russia</p>
          </li>

          <li class="about__email">
            <a :href="`mailto:${content.email}`"
              ><b>{{ content.email }}</b></a
            >
          </li>
          <li>
            <a href="https://instagram.com/darisha_" target="_blank"
              >Instagram</a
            >
          </li>
          <li>
            <a href="https://fb.com/darishchudish" target="_blank">Facebook</a>
          </li>
          <li><a href="https://t.me/kapusha" target="_blank">Telegram</a></li>
        </ul>

        <div class="about__text">
          <p
            v-for="(p, i) in content.text.content"
            :key="i"
            v-html="render(p)"
          ></p>
          <svg
            class="sign"
            width="171"
            height="48"
            viewBox="0 0 171 48"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0)">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M111.151 0H111.033C110.511 0.435797 108.276 1.22816 107.271 1.95118L105.184 3.36752C105.145 3.40714 105.017 3.50619 104.967 3.5458L97.3458 9.64696C97.0898 9.89458 96.9027 10.0828 96.627 10.3106L92.0384 14.3219C91.5756 14.7775 91.7233 14.7775 91.29 15.1935C90.1774 16.2433 88.6511 16.897 87.6763 17.9964L84.604 20.2349C81.8666 21.8394 79.4049 23.6816 76.2736 24.5928C74.9049 24.9989 73.3491 25.0088 71.9213 24.9098C70.1588 24.7909 68.7802 23.5925 67.8743 22.5426C67.4706 22.087 67.3327 21.671 67.4706 20.948C67.5395 20.5914 67.6577 20.1259 67.766 19.809C68.1205 18.6798 69.9914 16.2037 70.8283 15.4213C71.1336 15.1241 71.2222 15.0647 71.5472 14.7874L72.5515 13.9752C72.5811 13.9455 72.6303 13.9158 72.6599 13.8861L75.7616 11.5387C75.8108 11.4991 78.0658 10.1224 78.2036 10.053C79.1489 9.61725 80.3896 9.38945 80.6949 9.58754C80.557 11.9844 78.7156 12.4697 79.3458 14.1634C79.8086 14.0446 79.5329 14.2228 79.848 13.8663C80.0548 13.6385 80.045 13.4998 80.1139 13.3611L80.5767 12.6579C80.6259 12.5985 80.8623 12.341 80.8623 12.341C81.2364 11.8359 81.6992 10.3106 81.7682 9.63706C81.2758 7.31941 78.0756 9.2904 76.3918 9.99362C75.6828 10.2313 72.5909 12.5688 71.7146 13.4107L70.1391 14.936C70.1095 14.9657 70.0701 15.0053 70.0406 15.035C70.0111 15.0746 69.9717 15.1142 69.9323 15.1439C68.2189 16.7485 64.9104 21.4234 67.1555 23.3251C66.3086 23.3944 64.5559 22.5228 61.9465 22.5327C58.2539 22.5624 58.569 21.7007 55.0931 22.7605L53.1237 22.9685C51.2922 23.2062 49.0472 23.335 47.2058 23.7608L45.01 24.0976C44.0647 24.2165 43.0997 24.1669 42.0559 24.2858C39.673 24.5532 36.8371 24.989 34.7496 23.6321C33.755 22.9784 33.3218 23.2953 32.3469 23.5033C31.4213 23.7113 30.2299 23.6123 29.4914 23.8005C28.1423 24.157 28.1719 23.9986 27.197 23.3647C27.5515 22.7506 27.3349 22.1662 27.6008 21.3937C26.3108 20.9282 26.0056 20.8687 24.8141 21.6314C23.1894 22.6614 22.4312 23.1666 20.6292 23.7608L17.7835 25.3258C17.9312 24.2957 18.5515 24.4938 19.1522 23.5826C20.127 22.1167 23.0712 19.1057 23.5242 18.3332C23.8097 17.838 24.3218 16.689 24.6566 16.3424C25.1686 15.7976 25.0406 16.2929 25.4837 15.5797C25.7102 15.1935 25.72 14.8369 25.9957 14.3714C27.8174 11.3406 25.1588 12.2915 23.662 11.4001C23.9771 10.8553 24.5876 10.4888 24.8535 10.1917C25.0209 10.0134 24.8633 10.1719 25.1292 9.9441C25.4837 9.62715 25.72 9.37954 26.0647 9.12203L28.871 6.45772C29.4815 5.9724 29.9935 5.59603 29.964 4.66501C29.0581 4.49663 28.4476 4.90272 27.6697 5.39794L26.0844 6.4181C24.6566 7.72549 24.7255 7.34912 23.603 8.191C22.9531 8.68623 23.7408 8.05234 23.3962 8.38909C23.3666 8.41881 23.3272 8.45843 23.2977 8.48814C23.2682 8.51785 23.2386 8.56738 23.2091 8.59709C22.4706 9.41916 21.7124 9.84505 21.0329 10.7365C19.162 13.2027 22.4213 11.1128 17.7244 15.0944C17.0253 15.6788 16.3655 15.8274 15.627 16.5108C15.0461 17.0555 14.4848 17.4616 13.8054 17.9964C13.1555 18.5115 12.5351 19.185 11.9246 19.6802C11.2944 20.1853 10.615 20.4825 9.92571 20.9876C9.07889 21.6116 8.84256 21.9582 8.05482 22.6119C7.57232 23.0081 6.73534 22.9388 5.9476 23.4835C3.88961 24.8999 2.32396 24.8008 1.27035 25.8507C0.620462 26.4846 -0.108203 27.1779 0.325057 28.1782C2.836 29.2677 4.15547 26.4252 6.05591 25.6031C6.71565 25.3158 6.77473 25.1178 7.32615 24.6523L9.46291 23.1765C9.98479 22.7803 9.22659 23.3449 9.71893 23.0081C11.3228 21.5947 11.3687 21.1915 12.8699 20.3438L13.6281 19.9179C13.8448 19.7594 14.8688 18.7096 15.4793 18.2936L15.7255 18.145C16.3355 17.7806 16.2522 17.8327 16.4837 17.5606C18.329 15.5975 19.7535 15.2106 20.2747 14.3021C21.3382 12.4995 23.6817 12.8065 25.4443 12.8065C25.4246 13.2819 25.3655 13.5295 25.1981 13.9158C24.824 14.8171 24.0559 15.7778 23.5242 16.5702C23.3863 16.7782 23.1697 17.1645 22.9826 17.4121L21.0034 19.7495C20.58 20.2745 20.255 20.8687 19.8513 21.3541L17.2025 24.573C16.6413 25.3357 16.3163 25.6229 16.5822 26.5836C18.4334 26.6629 20.9837 24.4839 21.5647 24.2759C21.7321 24.2165 21.9487 24.1966 22.1949 24.1372L23.2386 23.7608C23.278 23.741 23.3272 23.7113 23.3666 23.6915C23.4159 23.6717 23.4651 23.642 23.4946 23.6222C23.7704 23.4736 23.7113 23.4934 24.0658 23.3449C24.1051 23.3251 24.2233 23.2854 24.2528 23.2656C24.2725 23.2557 24.3218 23.226 24.3415 23.2161L24.8633 22.6218C25.2178 22.3148 25.7791 22.1464 26.3404 22.1761C26.3404 23.0378 26.1434 23.2458 26.1237 24.0778C28.5362 25.2168 27.7386 25.2168 31.0964 24.5433C33.8141 23.9886 33.3809 24.2264 34.4542 25.0781C34.7299 25.296 34.5625 25.2069 34.9859 25.3258C37.8021 26.0884 41.278 25.6724 44.0253 25.3852C44.9903 25.2861 45.7583 25.3753 46.6839 25.1277L50.5439 24.3353C54.2857 23.533 61.0012 23.0576 64.7135 24.0085C65.4027 24.1768 66.1905 24.8801 66.8995 24.6225C67.6675 24.3551 67.1653 24.266 67.569 23.642C67.9925 24.3056 69.1839 25.1574 69.8535 25.4644C71.6752 26.2964 74.4421 26.0686 76.313 25.4545C76.6183 25.3555 76.9925 25.296 77.2879 25.2366C78.0362 25.0682 78.3021 24.8801 78.8633 24.6423C79.2868 24.4641 79.8874 24.2462 80.3305 24.0283L82.8809 22.4138C84.6631 21.2451 86.5537 20.4924 88.0701 18.977L94.9334 13.1531C96.5482 11.8359 97.7693 10.2412 99.522 9.11212L106.159 4.00141C106.425 3.79342 106.228 3.93208 106.513 3.7538L106.769 3.60523C107.685 3.06048 108.67 2.08985 109.664 1.9908L108.266 3.7637C107.616 4.83339 107.724 4.90272 106.789 5.57622C105.637 6.42801 104.977 8.29995 104.111 9.41916C103.786 9.84505 103.471 10.1521 103.136 10.5582L99.4432 15.5203C99.1084 16.0651 99.0986 16.382 98.685 16.8871L96.1642 20.2448C96.1347 20.2844 96.0953 20.324 96.0756 20.3537C96.0461 20.3933 96.0165 20.4329 95.987 20.4627L95.4159 21.3045C95.2879 21.5323 95.1205 21.8295 94.9728 22.0276C94.4312 22.7506 94.569 22.3346 94.1358 23.3251C93.8601 23.9391 93.7124 24.1174 93.2889 24.6622C92.5603 25.6229 92.7178 25.1277 92.1664 26.2469L91.2703 27.5345C91.0734 27.792 90.9651 27.9405 90.7682 28.2179L90.0493 29.6144C90.0198 29.6639 89.9213 29.8026 89.882 29.8521L87.0165 34.0714C86.0614 35.1213 86.2879 35.151 85.6577 36.0127C85.2146 36.6169 85.2244 36.4485 84.7419 37.3003L83.4914 39.1623C82.6938 40.3409 81.6992 41.0045 81.5515 42.7973C82.7922 43.1736 83.452 42.3714 84.3283 41.4106L86.4651 39.0237C85.2736 38.9543 84.5745 40.9055 83.2944 41.1036C84.4662 39.5387 85.2539 37.5281 86.5931 36.0028C89.0896 33.1468 90.4518 29.7742 92.5997 27.2571C93.1216 26.6331 93.348 25.8606 93.9191 25.2663L96.8535 20.9381C97.1686 20.5122 97.3458 20.423 97.7299 19.8882L109.389 4.08065C110.491 2.94163 111.279 2.19879 111.84 0.792358L111.486 0.316943C111.456 0.28723 111.407 0.237708 111.378 0.207994L111.151 0Z"
                fill="var(--color-text)"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M109.044 21.4526C107.025 21.4526 107.133 20.7197 106.503 20.8088C104.159 21.1258 104.15 20.7593 102.879 21.314C102.348 21.5418 101.54 21.8488 100.841 21.8389L100.91 21.0267H100.024C99.9254 21.4724 99.7974 21.4922 99.9451 21.9478C99.9844 22.0766 100.398 22.5025 100.496 22.5619C101.166 22.9383 101.57 22.5619 102.318 22.2945C105.883 21.0267 106.986 22.3935 107.921 22.5223C108.886 22.661 109.24 22.344 110.215 22.3143C112.047 22.2549 112.254 22.0271 113.524 21.9577L114.321 21.9181C114.735 22.661 115.011 23.2354 116.035 23.6811C117.305 24.2358 120.121 23.9386 120.998 23.9287L124.483 23.8297C125.458 23.8297 127.565 22.9086 129.988 22.5916C131.8 22.344 134.645 22.4827 136.467 22.344C136.083 23.5128 132.971 27.3161 132.243 29.0593C132.036 29.5545 131.996 29.8021 131.76 30.3171L127.703 39.2609C127.418 40.2018 127.142 41.2022 128.008 41.7667C128.934 41.2022 128.796 39.9542 129.87 38.8152C129.259 38.7756 129.22 38.9538 128.816 39.142L133.867 28.3461L136.723 24.1268C137.806 22.5421 138.584 22.0667 139.126 21.2545C138.042 20.69 137.373 21.0961 136.359 21.3932C134.153 22.0568 130.007 21.3437 128.087 22.1063C127.27 22.4332 127.329 22.2549 126.482 22.3836C125.606 22.5223 124.149 22.7204 123.223 22.9086C123.124 22.9284 122.514 23.0373 122.455 23.0373L121.697 22.9284C120.791 22.869 117.01 23.6118 115.867 22.245C115.277 21.5418 115.67 21.6012 115.296 20.8286C113.977 20.5117 115.05 20.9376 112.372 21.0168C111.486 21.0465 109.723 21.4526 109.044 21.4526Z"
                fill="var(--color-text)"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M154.585 47.8391C157.5 47.8391 156.899 47.6014 158.927 45.6799L159.134 45.4818C159.489 45.0857 159.371 45.5116 159.538 44.8083C158.297 44.9173 157.756 46.1355 156.16 46.5912C155.097 46.8982 154.467 46.6407 154.427 45.4818L154.467 44.4815C154.506 44.1348 154.624 43.6792 154.703 43.3425C155.786 39.0439 156.791 38.3011 159.046 34.369C159.469 33.6163 159.755 33.6262 160.217 32.6357C161.33 30.2587 161.271 30.7836 162.453 28.7829C163.034 27.8023 163.142 28.1193 163.624 26.9605C163.999 26.0592 164.786 25.1579 165.328 24.1872C165.485 23.9099 165.466 23.9099 165.604 23.6623L166.342 22.2558C166.834 21.0574 167.593 20.4433 168.105 19.2746C168.696 17.9474 168.696 17.571 169.887 16.5806C170.635 15.9566 170.369 16.5112 170.753 15.5703C168.912 15.6991 169.483 15.6 168.479 16.7489C168.006 17.2937 167.563 17.8087 167.179 18.5714L156.476 36.5183C155.904 37.2908 155.836 37.7663 155.333 38.6775C154.378 40.3909 152.891 43.8575 153.147 45.9176C153.246 46.7793 153.718 47.8391 154.585 47.8391Z"
                fill="var(--color-text)"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M142.996 24.3758C142.996 26.2775 145.093 25.6733 146.226 25.188C146.974 24.8611 146.698 24.8512 147.289 24.5739C147.289 27.7334 147.506 27.7235 150.086 27.7235C150.913 27.7235 152.154 27.2481 152.331 26.6439C151.74 26.2576 148.363 27.9711 148.363 25.9506C148.363 22.3454 149.485 24.1975 149.406 22.4147C147.949 21.6224 147.132 22.0681 145.793 22.3256C145.802 23.0585 145.871 23.0783 146.403 23.4151L146.698 23.5933C146.738 23.6132 146.807 23.6429 146.856 23.6825C146.393 23.8707 145.862 24.039 145.438 24.2668C145.015 24.4847 144.818 24.7026 144.128 24.6729C143.725 23.3358 144.611 23.0783 143.833 21.6719C143.301 22.1275 142.996 23.524 142.996 24.3758Z"
                fill="var(--color-text)"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M53.8428 12.1932C53.9806 12.5596 54.5813 13.6095 54.5911 13.6392C54.601 13.659 55.3592 12.8073 55.5364 12.728L54.6207 11.6484C54.3844 11.8465 54.0496 12.0149 53.8428 12.1932Z"
                fill="var(--color-text)"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M146.215 47.9176C146.983 48.0959 147.101 47.9869 147.751 47.561C148.214 47.2639 148.667 46.9668 149.159 46.63C149.957 46.0556 151.187 45.2137 151.483 44.2727C150.203 44.6689 148.776 46.293 147.446 46.63C146.404 47.3251 147.416 45.4316 147.475 45.3325C148.401 43.619 149.139 41.8362 150.203 40.202C151.887 37.4684 153.58 35.0022 155.323 32.3378L159.961 25.0581C161.458 23.1564 163.073 19.67 164.284 17.4217L166.036 13.2321C166.194 12.826 166.45 12.4695 166.686 11.9742C166.873 11.5682 167.11 11.0135 167.257 10.6173C167.76 9.19108 168.656 7.74502 168.774 6.51687L168.094 6.28906L166.844 9.00289C166.401 10.0231 166.056 10.8451 165.544 11.786C165.15 12.5091 164.786 13.6085 164.333 14.5098C164.067 15.0545 164.018 15.421 163.811 15.9261L159.93 22.8183C159.624 23.4225 159.486 23.5017 159.201 24.0168C158.876 24.6209 158.866 24.7695 158.393 25.3935L152.85 34.3669C152.702 34.7631 151.55 36.3478 151.186 36.8331C150.427 37.8038 149.905 38.9725 149.256 40.0224L147.257 43.697C146.725 44.42 147.188 43.9049 146.745 44.7369C145.889 47.0953 146.105 46.7398 146.215 47.9176Z"
                fill="var(--color-text)"
              />
            </g>
            <defs>
              <clipPath id="clip0">
                <rect width="171" height="48" fill="white" />
              </clipPath>
            </defs>
          </svg>
        </div>
      </div>
      <button class="credits-button" @click="$emit('credits-click')">
        Credits
      </button>
    </div>
  </article>
</template>

<script>
import { documentToHtmlString } from '@contentful/rich-text-html-renderer'
import { fetchAbout } from '@/scripts/api'

export default {
  name: 'About',
  data: () => ({
    content: null
  }),
  methods: {
    render: item => documentToHtmlString(item)
  },
  async created() {
    this.content = await fetchAbout()
  }
}
</script>

<style lang="sass" scoped>
@import "~@/sass/utils"

.about__container
  margin-left: auto
  margin-right: auto
  max-width: column-spans(12)
  padding-top: 25vh
  padding-bottom: var(--unit-v)

  @media (max-width: 700px)
    padding-top: 176px
.about__title
  +man
  +yo('font-size', (320px: 32px, 375px: 42px, 1920px: 96px, 2550px: 120px))
  line-height: 0.94
  margin-bottom: 1.6em

  @media (max-width: 1000px)
    margin-bottom: 80px

  span
    display: block
  span:not(:first-child)
    text-indent: 2.7em

.about__img
  display: block
  height: auto
  width: column-spans(6)
  float: left

  @media (max-width: 1000px)
    float: unset
    margin-left: auto
    margin-bottom: 32px
    width: calc(100vw - var(--unit-h))

.about__email
  margin-top: 2em
  @media (max-width: 500px)
    margin-top: 24px

.about__info
  +eng(r)
  font-size: 16px
  line-height: 1.1875
  letter-spacing: 0.08em
  text-transform: uppercase

  margin-bottom: 52vh
  margin-left: auto
  width: column-spans(2)

  @media (min-width: 2200px)
    font-size: 18px

  @media (max-width: 1440px)
    font-size: 14px

  @media (max-width: 1300px) and (min-height: 1000px)
    margin-bottom: 200px

  @media (max-width: 1000px)
    margin-left: 0
    margin-bottom: 80px
    font-size: 16px

  b
    +eng(b)

.about__text
  margin-left: mix(7)
  width: column-spans(3)
  p
    margin-bottom: 2.2em

  @media (max-width: 1000px)
    margin: 0
    width: 100%

.credits-button
  +eng(b)
  font-size: 14px
  text-transform: uppercase
  letter-spacing: 0.16em

  display: block
  margin-left: auto
  +yo('margin-top', (375px: 160px, 1920px: 292px))

  @media (max-width: 500px)
    margin-left: 0
</style>
